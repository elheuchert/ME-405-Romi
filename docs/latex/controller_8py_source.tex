\doxysection{controller.\+py}
\hypertarget{controller_8py_source}{}\label{controller_8py_source}\index{C:/Users/14083/vscode\_python/controller.py@{C:/Users/14083/vscode\_python/controller.py}}
\mbox{\hyperlink{controller_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00001}\mbox{\hyperlink{namespacecontroller}{00001}}\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00019}\mbox{\hyperlink{classcontroller_1_1_controller}{00019}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classcontroller_1_1_controller}{Controller}}:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00027}\mbox{\hyperlink{classcontroller_1_1_controller_adb2b7c2aaa78f50e338dfa3e16ef8dad}{00027}}\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00028}\mbox{\hyperlink{classcontroller_1_1_controller_ad045f05ef9d715d39a46d318fbe4f850}{00028}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{classcontroller_1_1_controller_a14469e0d83a24cd2b365db8c1c639fff}{\_\_init\_\_}}(self,\ K\_p,\ K\_i,\ K\_d,\ err\_sat,\ eff\_sat):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_a6147d7f8aa12e56ef01036ddd2b55ee9}{K\_p}}\ =\ K\_p}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_aa9c1f5ee49f9a2ac080bfe502e4c0e93}{K\_i}}\ =\ K\_i}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_ae3f041523ee38097fcd9ded21d8c44f9}{K\_d}}\ =\ K\_d}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_a5784a365448f4942ea8faaf246a25c6b}{summed\_errors}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00033}00033\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_a377569fff3a8f305c007bc232c26f4cf}{reference}}\ =\ 0}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_adb2b7c2aaa78f50e338dfa3e16ef8dad}{err\_sat}}=err\_sat}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00035}00035\ \ \ \ \ \ \ \ \ self.\mbox{\hyperlink{classcontroller_1_1_controller_ad045f05ef9d715d39a46d318fbe4f850}{effort\_saturation}}=eff\_sat}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00040}\mbox{\hyperlink{namespacecontroller_a1c1adb1c32c5839adde4691994fbb657}{00040}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_a1c1adb1c32c5839adde4691994fbb657}{change\_Ref}}(self,\ reference):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00041}\mbox{\hyperlink{namespacecontroller_a07ea75ee58ec4976bdcf7c925f223e8a}{00041}}\ \ \ \ \ \ \ \ \ self.reference\ =\ reference}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00042}00042\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print("{}Reference\ set"{})}}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ print(self.reference)}}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00044}00044\ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00047}\mbox{\hyperlink{namespacecontroller_ab50cfb36be80ca8ca97b6ba05b647eba}{00047}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_ab50cfb36be80ca8ca97b6ba05b647eba}{get\_Ref}}(self):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.reference}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00051}\mbox{\hyperlink{namespacecontroller_abde1c290bc7fe6e8bfa897da45e4d016}{00051}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_abde1c290bc7fe6e8bfa897da45e4d016}{get\_Error}}(self):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.summed\_errors}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00056}\mbox{\hyperlink{namespacecontroller_a6e7bec40144d5aacb7f61206a3c5b90c}{00056}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_a6e7bec40144d5aacb7f61206a3c5b90c}{proportional\_Control}}(self,\ measure):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ error\ =\ self.reference\ -\/\ measure}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00058}00058\ \ \ \ \ \ \ \ \ cntrl\_val\ =\ error\ *\ self.K\_p}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00059}00059\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00060}00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cntrl\_val\ >\ 100:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 100}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ cntrl\_val\ <\ -\/100:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/100}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00064}00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ cntrl\_val}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00072}\mbox{\hyperlink{namespacecontroller_a89356bf8ada344869e1e23fe8e4c805b}{00072}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_a89356bf8ada344869e1e23fe8e4c805b}{pi\_Control}}(self,\ measure,\ dt):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00073}00073\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#print(f"{}Measure\ :\ \{measure\}"{})}}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00074}00074\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#print(f"{}Reference\ :\ \{self.reference\}"{})}}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00075}00075\ \ \ \ \ \ \ \ \ error\ =\ self.reference\ -\/\ measure}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00076}00076\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#print(f"{}error\ :\ \{error\}"{})}}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00077}00077\ \ \ \ \ \ \ \ \ self.summed\_errors\ +=\ error\ *\ (dt/1000000)}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00078}\mbox{\hyperlink{namespacecontroller_a6118da543422dff3ae4ecbc36cda5cf0}{00078}}\ \ \ \ \ \ \ \ \ self.summed\_errors\ =\ self.error\_sat(self.summed\_errors)}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00079}00079\ \ \ \ \ \ \ \ \ cntrl\_val\ =\ ((error\ *\ self.K\_p)+(self.summed\_errors\ *\ self.K\_i))}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.effort\_sat(cntrl\_val)}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00084}\mbox{\hyperlink{namespacecontroller_a2ffd165afb4e1ccf1aa4b1affd45ad07}{00084}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_a2ffd165afb4e1ccf1aa4b1affd45ad07}{error\_sat}}(self,\ err):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ err\ >=\ self.err\_sat:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.err\_sat}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00087}00087\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ err\ <=\ -\/self.err\_sat:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/self.err\_sat}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ err}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00094}\mbox{\hyperlink{namespacecontroller_a08a212b5ada0bbfb4463cbe47e22ef0b}{00094}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_a08a212b5ada0bbfb4463cbe47e22ef0b}{effort\_sat}}(self,\ eff):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00095}00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ eff\ >=\ self.effort\_saturation:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.effort\_saturation}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00097}00097\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ eff\ <=\ -\/self.effort\_saturation:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/self.effort\_saturation}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00099}00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ eff}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00106}\mbox{\hyperlink{namespacecontroller_aa8cdcef9a80da5ab61e5e847f59094eb}{00106}}\ \ \ \ \ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacecontroller_aa8cdcef9a80da5ab61e5e847f59094eb}{change\_Gains}}(self,\ k\_p,\ k\_i,\ k\_d):}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00107}\mbox{\hyperlink{namespacecontroller_ab1986a936cc80fcc1f8d3746dd534357}{00107}}\ \ \ \ \ \ \ \ \ self.K\_p\ =\ k\_p}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00108}\mbox{\hyperlink{namespacecontroller_aad4feb7d1d0bf837f09d6193e5d380f1}{00108}}\ \ \ \ \ \ \ \ \ self.K\_i\ =\ k\_i}
\DoxyCodeLine{\Hypertarget{controller_8py_source_l00109}\mbox{\hyperlink{namespacecontroller_a6ccbe29f3ff5dc0336853e9cb2177d51}{00109}}\ \ \ \ \ \ \ \ \ self.K\_d\ =\ k\_d}

\end{DoxyCode}
